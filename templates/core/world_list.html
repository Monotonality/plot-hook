{% extends 'base.html' %}

{% block title %}My Worlds - Plot Hook{% endblock %}

{% block content %}
<div class="container">
    <h1>My Worlds</h1>
    
    {% if owned_worlds %}
        <h2>Worlds I Own</h2>
        <div class="world-grid">
            {% for world in owned_worlds %}
                <div class="world-card">
                    <h3>{{ world.name }}</h3>
                    <p>{{ world.description|truncatewords:20 }}</p>
                    <p><strong>Join Code:</strong> {{ world.join_code }}</p>
                    <p><strong>Status:</strong> {% if world.is_active %}Active{% else %}Inactive{% endif %}</p>
                    <a href="{% url 'core:world_detail' world.id %}" class="btn btn-primary">View World</a>
                </div>
            {% endfor %}
        </div>
    {% endif %}
    
    {% if member_worlds %}
        <h2>Worlds I'm a Member Of</h2>
        <div class="world-grid">
            {% for world in member_worlds %}
                <div class="world-card">
                    <h3>{{ world.name }}</h3>
                    <p>{{ world.description|truncatewords:20 }}</p>
                    <p><strong>Owner:</strong> {{ world.owner.username }}</p>
                    <a href="{% url 'core:world_detail' world.id %}" class="btn btn-primary">View World</a>
                </div>
            {% endfor %}
        </div>
    {% endif %}
    
    {% if not owned_worlds and not member_worlds %}
        <p>You don't have any worlds yet. Create your first world to get started!</p>
    {% endif %}
</div>

<style>
.world-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 20px;
    margin: 20px 0;
}

.world-card {
    border: 1px solid #ddd;
    border-radius: 8px;
    padding: 20px;
    background: white;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.world-card h3 {
    margin-top: 0;
    color: #333;
}

.btn {
    display: inline-block;
    padding: 8px 16px;
    background: #007bff;
    color: white;
    text-decoration: none;
    border-radius: 4px;
    margin-top: 10px;
}

.btn:hover {
    background: #0056b3;
}
</style>
{% endblock %}
